# AI工具深入前端开发工作流程中探索分析

> **简述：通过Ai辅助编程工具的优劣势分析，优化现阶段前端页面开发工作流，探索开发与Ai的深度结合**

> **案例Demo： 使用cursor(claude 3.5 sonnet模型)集成的vsCode**


> [目录](#目录)
>
> [一. 前端开发现阶段对AI工具的应用](#一-前端开发现阶段对ai工具的应用)
>
>> [1. 现阶段的前端SPA项目的开发流程：](#1-现阶段的前端spa项目的开发流程)
>>
>> [2. 我们现在正在使用的AI辅助方式：](#2-我们现在正在使用的ai辅助方式)
>>
>> [3. 现有的开发的问题 与  AI的优劣势](#3-现有的开发的问题-与--ai的优劣势)
>
> [二. 结合Ai的优势和局限性，优化现有开发工作流，与Ai深度融合](#二-结合ai的优势和局限性优化现有开发工作流与ai深度融合)
> 
>> [1. 工作流程模块深度拆分：](#1-工作流程模块深度拆分)
>>
>> [2. 元组件模块大部分是已有组件库的，所以开发的重点部分就是：`业务组件模块`](#2-元组件模块大部分是已有组件库的所以开发的重点部分就是业务组件模块)


## 一. 前端开发现阶段对AI工具的应用

##### 1. 现阶段的前端SPA项目的开发流程：
<img src="./img/1.jpg" width="100%"/>

#### 2. 我们现在正在使用的AI辅助方式：
   1. API方法资料 查找，代码解释 （各种插件库的API）
   2. 开发方案查找验证 （编码思路是否正确）
   3. 辅助性函数编写，封装 （数据转化， 数据查找，函数抽象）
   4. IDE的代码提示，代码注释，代码预测
   5. 单元测试生成

##### 3. 现有的开发的问题 与  AI的优劣势
  <img src="./img/2.jpg" width="100%"/>
  
> 1. 开发： 开发人员为了更快的效率和交付，开发过程中逻辑和视图的虽然进行了模块的分离，提取， 但是部分组件逻辑，数据处理，视图层紧密耦合，路由页面中除了处理本身的数据逻辑，处理UI展示的仍然占很大一部分。

>  2. Ai: 如果不拆分需求，让AI执行复杂任务时，涉及多个业务逻辑和数据交互，导致生成的代码不符合预期，非常不可靠，会增大工作难度，调式困难；如果拆分过细，那么大量的prompt问答将会占用更长的开发时间，协作成本增加。
4. 那么能否对开发流程进行更细粒度的模块划分，使得Ai得到恰当的任务粒度，高效参与其中呢？

## 二. 结合Ai的优势和局限性，优化现有开发工作流，与Ai深度融合
<img src="./img/3.jpg" width="100%"/>

##### 1. 工作流程模块深度拆分： 
- 元组件/基础组件 => 业务组件/复杂组件/定制化组件 => 路由页面/页面组件 => SPA应用
> 1. `元组件（Meta/Base Components）`
>     1. 定义：元组件是应用中最小、最通用的 UI 元素，通常是功能独立且可复用的组件。它们与具体的业务逻辑无关，可以在整个应用的不同场景中重复使用。
>     2. 职责：
>         - 提供基础的 UI 元素，如按钮、输入框、表单项等。
>         - 保持高度的可复用性，避免冗余代码。
>         - 封装常见的功能，例如表单输入、布局管理、通用样式等。
>     3. 作用：
>         - 提高开发效率，减少重复代码。
>         - 保证一致的设计语言和行为模式。
>     4. 示例：按钮（Button）、输入框（Input）、复选框（Checkbox）、对话框（Dialog）等。
> 2. `业务组件（Business Components）`
>     1. 定义：业务组件是与特定业务逻辑相关的组件，它们将基础组件组合在一起，处理业务需求和特定功能。业务组件通常是根据应用的业务场景定制的。
>     2. 职责：
>        - 实现特定的业务功能或者复杂功能。
>        - 负责与数据进行交互，处理逻辑并呈现 UI。
>        - 组合基础组件，提供与业务相关的功能集。
>     3. 作用：
>        - 处理特定业务逻辑，封装复杂的功能，简化页面开发。
>        - 提供面向业务的可复用模块，保持代码的清晰和可维护性。
> 3. `路由页面/页面组件（Pages/Views）`
>    1. 定义：前端页面是最终展示给用户的视图，通常是由多个基础组件和业务组件构成。每个页面代表应用中的一个独立视图或功能模块。
>    2. 职责：
>       - 组织和展示多个业务组件，实现整个页面的功能。
>       - 负责处理页面级的状态管理和路由逻辑。
>       - 管理用户的交互流程。
>    3. 作用：提供完整的功能界面和用户体验。整合不同的组件，形成具体的页面逻辑，响应用户操作。
>    4. 示例：用户登录页、产品详情页、订单管理页等。

##### 2. 元组件模块大部分是已有组件库的，所以开发的重点部分就是：`业务组件模块`
  1. 开发人员结合经验优势，按照独立性和复用性尽可能得对业务进行抽离、拆分
  2. 业务组件的开发必须要满足以下规范：
  ```sh
    1. 可以是多个基础组件的组合，也可以是多个业务组件的组合，使用方式必须跟基础组件一致。
    2. 高度内聚，功能职责清晰，能独立运行，有自己内部状态。
    3. 符合一进一出的原则（value, change）数据流向清晰，及时响应父组件的传入数据，同时能对用户交互后的数据变更进行通知。
  ```


  3. 尝试让AI专注接管业务组件的开发流程（demo举例子）：
      1. <a taget="_balck" href="./re-role.html">设定角色</a>
      2. 基础组件库读取
      3. <a taget="_balck" href="./re-prompt.html">需求功能描述 => 生成prompt</a>  
      4. 代码微调，优化, 审查
      ```md
        ### 组件的prompt

        - 请基于element2组件库，使用Vue2, 开发一个如图所示的组件
        需求如下：

        Prompt Description
        1. 双列表传输组件的简洁UI，用于在两个列表之间选择和移动项目。布局包括：
        2. 两个主列表（标记为“列表1”和“列表2”）并排显示。
        3. 两个列表中每个项目旁边的复选框，允许多次选择。
        4. 项目计数器在每个列表的右上方，指示当前的选择计数（例如，0/5,0/2）。
        5. 每个列表中的搜索栏,允许用户通过输入来过滤项目。
        6. 中间的传输按钮，具有左（<）和右（>）箭头，可以将选中的项目从一个列表移动到另一个列表。
        7. 最下方有确定 和 取消按钮

        Functionality
        1. 选择：用户可以通过勾选复选框来选择每个列表中的项目。
        2. 搜索：用户可以在搜索栏中输入过滤每个列表中的项目，从而更容易找到特定的条目。
        3. 转移：用户可以点击转移按钮将选中的项目从一个列表移动到另一个列表。左箭头将项目移动到“列表1”，右箭头将项目移动到“列表2”。
        4. 把左侧数据转移到右侧列表时，添加到右侧列表数组的末尾。
        5. 拖拽排序：右侧列表每个数据都能进行上下拖拽排序。
        6. 左侧列表中的数据被转移到右侧后，左侧列表中数据不会减少，转移的数据转为disable状态，用indeterminate=true 属性用以表示。
        7. 右侧列表中的数据被转移到左侧后，左侧列表转移来的数据取消disable状态，indeterminate=false属性进行表示，可以进行正常的选中
        8. 开发的组件能响应父组件的props传递的value的值，value的值是列表数据的一部分，如果value有值，那么分别在左右列表进行对应的展示。
        9. 当用户点击确定之后，组件响应父组件的change事件，将右侧列表中的数据按顺序返回给父组件。
        10. 点击全选则选中列表中可以选择所有数据，不改变列表中状态为disable的数据；

        Applications and Context
        1. 在两个列表之间为分类选择一个或者多个商品，右边列表能对所有已选的商品进行排序
        2. 列表数据是包含多个{id:1, name: 'cet'}的数组。
      ```
  4. 使用cursor(claude 3.5 sonnet模型)生成
  <img src="./img/co.jpg" width="100%"/>

  5. TODO附件:生成过程，测试，未调过程。
  6. 开发人员自研开发复杂组件和借助AI工具开发复杂组件对比
    1. 开发成本
    2. 稳定性
    3. 扩展维护



